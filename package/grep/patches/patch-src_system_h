--- grep-2.5.4.orig/src/system.h	2009-01-31 06:39:54.000000000 +0100
+++ grep-2.5.4/src/system.h	2010-05-29 00:08:24.703125000 +0200
@@ -56,6 +56,7 @@ extern char *sys_errlist[];
 #ifdef __BEOS__
 # undef O_BINARY /* BeOS 5 has O_BINARY and O_TEXT, but they have no effect. */
 #endif
+/*
 #ifdef HAVE_DOS_FILE_CONTENTS
 # include <io.h>
 # ifdef HAVE_SETMODE
@@ -64,6 +65,7 @@ extern char *sys_errlist[];
 #  define SET_BINARY(fd)  _setmode (fd, O_BINARY)
 # endif
 #endif
+*/
 
 #ifdef HAVE_DOS_FILE_NAMES
 # define IS_SLASH(c) ((c) == '/' || (c) == '\\')
