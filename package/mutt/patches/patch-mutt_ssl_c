--- mutt-1.5.20.orig/mutt_ssl.c	2009-06-10 07:08:29.000000000 +0200
+++ mutt-1.5.20/mutt_ssl.c	2010-06-02 19:53:33.141613592 +0200
@@ -652,7 +652,7 @@ static int check_host (X509 *x509cert, c
   char *buf = NULL;
   int bufsize;
   /* needed to get the DNS subjectAltNames: */
-  STACK *subj_alt_names;
+  STACK_OF(GENERAL_NAME) *subj_alt_names;
   int subj_alt_names_count;
   GENERAL_NAME *subj_alt_name;
   /* did we find a name matching hostname? */
@@ -735,7 +735,7 @@ static int ssl_cache_trusted_cert (X509 
 {
   dprint (1, (debugfile, "trusted: %s\n", c->name));
   if (!SslSessionCerts)
-    SslSessionCerts = sk_new_null();
+    SslSessionCerts = sk_X509_new_null();
   return (sk_X509_push (SslSessionCerts, X509_dup(c)));
 }
 
