--- strongswan-4.4.0.orig/src/pluto/alg_info.c	2010-03-15 21:52:51.000000000 +0100
+++ strongswan-4.4.0/src/pluto/alg_info.c	2010-07-13 22:49:11.775081075 +0200
@@ -414,7 +414,7 @@ struct alg_info_esp *alg_info_esp_create
 	alg_info_esp = malloc_thing (struct alg_info_esp);
 	zero(alg_info_esp);
 
-	pfs_name=index (alg_str, ';');
+	pfs_name=strchr (alg_str, ';');
 	if (pfs_name)
 	{
 		memcpy(esp_buf, alg_str, pfs_name-alg_str);
