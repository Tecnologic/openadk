--- mozilla-2.0.orig/ipc/chromium/src/base/debug_util_posix.cc	2011-03-19 00:33:46.000000000 +0100
+++ mozilla-2.0/ipc/chromium/src/base/debug_util_posix.cc	2011-04-24 07:55:10.000000000 +0200
@@ -11,10 +11,6 @@
 #include <sys/stat.h>
 #include <sys/types.h>
 #include <unistd.h>
-#ifndef ANDROID
-#include <execinfo.h>
-#include <sys/sysctl.h>
-#endif
 
 #include "base/basictypes.h"
 #include "base/eintr_wrapper.h"
@@ -119,11 +115,7 @@ StackTrace::StackTrace() {
   const int kMaxCallers = 256;
 
   void* callers[kMaxCallers];
-#ifndef ANDROID
-  int count = backtrace(callers, kMaxCallers);
-#else
   int count = 0;
-#endif
 
   // Though the backtrace API man page does not list any possible negative
   // return values, we still still exclude them because they would break the
@@ -138,9 +130,6 @@ StackTrace::StackTrace() {
 
 void StackTrace::PrintBacktrace() {
   fflush(stderr);
-#ifndef ANDROID
-  backtrace_symbols_fd(&trace_[0], trace_.size(), STDERR_FILENO);
-#endif
 }
 
 void StackTrace::OutputToStream(std::ostream* os) {
