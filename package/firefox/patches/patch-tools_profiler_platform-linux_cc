--- mozilla-release.orig/tools/profiler/platform-linux.cc	2013-09-11 01:15:26.000000000 +0200
+++ mozilla-release/tools/profiler/platform-linux.cc	2013-10-23 16:28:38.000000000 +0200
@@ -53,7 +53,7 @@
 #include <sys/stat.h>   // open
 #include <fcntl.h>      // open
 #include <unistd.h>     // sysconf
-#ifdef __GLIBC__
+#if defined(__GLIBC__) && ! defined(__UCLIBC__)
 #include <execinfo.h>   // backtrace, backtrace_symbols
 #endif  // def __GLIBC__
 #include <strings.h>    // index
@@ -73,14 +73,12 @@
 
 #define SIGNAL_SAVE_PROFILE SIGUSR2
 
-#if defined(__GLIBC__)
-// glibc doesn't implement gettid(2).
+// glibc/musl doesn't implement gettid(2).
 #include <sys/syscall.h>
 pid_t gettid()
 {
   return (pid_t) syscall(SYS_gettid);
 }
-#endif
 
 #if !defined(ANDROID)
 // Keep track of when any of our threads calls fork(), so we can
