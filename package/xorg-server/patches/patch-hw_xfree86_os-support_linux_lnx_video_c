--- xorg-server-1.15.0.orig/hw/xfree86/os-support/linux/lnx_video.c	2013-12-27 18:38:52.000000000 +0100
+++ xorg-server-1.15.0/hw/xfree86/os-support/linux/lnx_video.c	2014-03-21 13:14:06.821293270 +0100
@@ -473,7 +473,7 @@ unmapVidMem(int ScreenNum, pointer Base,
 /* I/O Permissions section                                                 */
 /***************************************************************************/
 
-#if defined(__powerpc__)
+#if defined(__powerpc__) || defined(__mips__)
 volatile unsigned char *ioBase = NULL;
 
 #ifndef __NR_pciconfig_iobase
@@ -484,7 +484,11 @@ static Bool
 hwEnableIO(void)
 {
     int fd;
+#ifdef __powerpc__
     unsigned int ioBase_phys = syscall(__NR_pciconfig_iobase, 2, 0, 0);
+#else
+    unsigned int ioBase_phys = 0x1fd00000;
+#endif
 
     fd = open("/dev/mem", O_RDWR);
     if (ioBase == NULL) {
