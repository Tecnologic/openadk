diff -Nur w-openjdk-6.orig/openjdk-6/hotspot/make/linux/makefiles/gcc.make w-openjdk-6/openjdk-6/hotspot/make/linux/makefiles/gcc.make
--- w-openjdk-6.orig/openjdk-6/hotspot/make/linux/makefiles/gcc.make	2011-02-28 17:03:13.000000000 +0100
+++ w-openjdk-6/openjdk-6/hotspot/make/linux/makefiles/gcc.make	2011-04-11 18:36:16.837665258 +0200
@@ -108,9 +108,6 @@
   CFLAGS += -pipe
 endif
 
-# Compiler warnings are treated as errors
-WARNINGS_ARE_ERRORS = -Werror
-
 # Except for a few acceptable ones
 # Since GCC 4.3, -Wconversion has changed its meanings to warn these implicit
 # conversions which might affect the values. To avoid that, we need to turn
diff -Nur w-openjdk-6.orig/openjdk-6/jdk/make/java/instrument/Makefile w-openjdk-6/openjdk-6/jdk/make/java/instrument/Makefile
--- w-openjdk-6.orig/openjdk-6/jdk/make/java/instrument/Makefile	2011-02-28 17:06:10.000000000 +0100
+++ w-openjdk-6/openjdk-6/jdk/make/java/instrument/Makefile	2011-04-11 23:14:27.571411016 +0200
@@ -123,6 +123,8 @@
 # We don't want to link against -ljava
 JAVALIB=
 
+LDLIBS += -liconv
+
 #
 # Add to ambient vpath so we pick up the library files
 #
diff -Nur w-openjdk-6.orig/openjdk-6/jdk/make/java/npt/Makefile w-openjdk-6/openjdk-6/jdk/make/java/npt/Makefile
--- w-openjdk-6.orig/openjdk-6/jdk/make/java/npt/Makefile	2011-02-28 17:06:11.000000000 +0100
+++ w-openjdk-6/openjdk-6/jdk/make/java/npt/Makefile	2011-04-11 23:14:07.017670197 +0200
@@ -65,6 +65,8 @@
 # We don't want to link against -ljava
 JAVALIB=
 
+LDLIBS += -liconv
+
 # Add -export options to explicitly spell exported symbols
 ifeq ($(PLATFORM), windows)
   OTHER_LCF += -export:nptInitialize -export:nptTerminate
diff -Nur w-openjdk-6.orig/openjdk-6/jdk/make/sun/splashscreen/Makefile w-openjdk-6/openjdk-6/jdk/make/sun/splashscreen/Makefile
--- w-openjdk-6.orig/openjdk-6/jdk/make/sun/splashscreen/Makefile	2011-02-28 17:06:12.000000000 +0100
+++ w-openjdk-6/openjdk-6/jdk/make/sun/splashscreen/Makefile	2011-04-11 23:15:07.221411030 +0200
@@ -55,6 +55,8 @@
 
 JAVALIB=
 
+LDLIBS += -liconv
+
 #
 # C Flags
 #
