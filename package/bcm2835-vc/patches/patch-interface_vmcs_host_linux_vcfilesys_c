--- bcm2835-vc-0.3.orig/interface/vmcs_host/linux/vcfilesys.c	2013-09-27 14:22:08.000000000 +0200
+++ bcm2835-vc-0.3/interface/vmcs_host/linux/vcfilesys.c	2013-10-14 20:10:02.000000000 +0200
@@ -49,10 +49,6 @@ SOFTWARE, EVEN IF ADVISED OF THE POSSIBI
 #include <ctype.h>
 #include <limits.h>
 
-#if !defined(ANDROID) && !defined( __USE_FILE_OFFSET64 )
-#error   "__USE_FILE_OFFSET64 isn't defined"
-#endif
-
 #include "interface/vcos/vcos.h"
 
 /* Some hackery to prevent a clash with the Linux type of the same name */
@@ -916,7 +912,7 @@ int vc_hostfs_set_attr(const char *path,
 
    if (pathbuf)
    {
-      __mode_t mode = 0;
+      mode_t mode = 0;
       struct stat sb;
 
       backslash_to_slash(pathbuf);
