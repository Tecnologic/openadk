--- squeezelite-1.5.orig/output_alsa.c	2014-01-24 11:24:16.000000000 +0100
+++ squeezelite-1.5/output_alsa.c	2014-02-08 13:36:12.000000000 +0100
@@ -670,8 +670,10 @@ void output_init_alsa(log_level level, c
 		LOG_INFO("memory locked");
 	}
 
+#if defined(__GLIBC__)
    	mallopt(M_TRIM_THRESHOLD, -1);
    	mallopt(M_MMAP_MAX, 0);
+#endif
 
 	touch_memory(silencebuf, MAX_SILENCE_FRAMES * BYTES_PER_FRAME);
 	touch_memory(outputbuf->buf, outputbuf->size);
