--- davfs2-1.4.7.orig/src/mount_davfs.c	2012-07-19 13:35:11.000000000 +0200
+++ davfs2-1.4.7/src/mount_davfs.c	2014-01-01 20:14:21.000000000 +0100
@@ -20,16 +20,15 @@
 
 #include "config.h"
 
+#include <paths.h>
 #ifdef HAVE_ARGZ_H
 #include <argz.h>
 #endif
 #include <ctype.h>
 #include <errno.h>
-#include <error.h>
 #ifdef HAVE_FCNTL_H
 #include <fcntl.h>
 #endif
-#include <fstab.h>
 #include <getopt.h>
 #include <grp.h>
 #ifdef HAVE_LIBINTL_H
@@ -674,6 +673,7 @@ check_double_mounts(dav_args *args)
 static void
 check_fstab(const dav_args *args)
 {
+#if 0
     dav_args *n_args = new_args();
     n_args->mopts = DAV_USER_MOPTS;
     setfsent();
@@ -737,6 +737,7 @@ check_fstab(const dav_args *args)
 
     endfsent();
     delete_args(n_args);
+#endif
 }
 
 
@@ -758,7 +759,7 @@ check_mountpoint(dav_args *args)
     struct passwd *pw;
 
     if (*mpoint != '/') {
-        char *mp = canonicalize_file_name(mpoint);
+        char *mp = realpath(mpoint, NULL);
         if (!mp)
             error(EXIT_FAILURE, 0,
                   _("can't evaluate path of mount point %s"), mpoint);
@@ -1793,6 +1794,7 @@ new_args(void)
 static void
 log_dbg_cmdline(char *argv[])
 {
+    /*
     size_t len;
     char *cmdline;
     if (argz_create(argv, &cmdline, &len) == 0) {
@@ -1800,6 +1802,7 @@ log_dbg_cmdline(char *argv[])
         syslog(LOG_MAKEPRI(LOG_DAEMON, LOG_DEBUG), "%s", cmdline);
         free(cmdline);
     }
+    */
 }
 
 
