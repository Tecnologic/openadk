--- davfs2-1.4.6.orig/src/mount_davfs.c	2010-01-21 19:50:15.000000000 +0100
+++ davfs2-1.4.6/src/mount_davfs.c	2010-05-29 21:10:23.041613426 +0200
@@ -29,7 +29,6 @@
 #ifdef HAVE_FCNTL_H
 #include <fcntl.h>
 #endif
-#include <fstab.h>
 #include <getopt.h>
 #include <grp.h>
 #ifdef HAVE_LIBINTL_H
@@ -677,6 +676,7 @@ check_double_mounts(dav_args *args)
 static void
 check_fstab(const dav_args *args)
 {
+#if 0
     dav_args *n_args = new_args();
     n_args->mopts = DAV_USER_MOPTS;
 
@@ -733,6 +733,7 @@ check_fstab(const dav_args *args)
 
     endfsent();
     delete_args(n_args);
+#endif
 }
 
 
@@ -754,7 +755,7 @@ check_mountpoint(dav_args *args)
     struct passwd *pw;
 
     if (*mpoint != '/') {
-        char *mp = canonicalize_file_name(mpoint);
+        char *mp = realpath(mpoint, NULL);
         if (!mp)
             error(EXIT_FAILURE, 0,
                   _("can't evaluate path of mount point %s"), mpoint);
@@ -1824,6 +1825,7 @@ new_args(void)
 static void
 log_dbg_cmdline(char *argv[])
 {
+    /*
     size_t len;
     char *cmdline;
     if (argz_create(argv, &cmdline, &len) == 0) {
@@ -1831,6 +1833,7 @@ log_dbg_cmdline(char *argv[])
         syslog(LOG_MAKEPRI(LOG_DAEMON, LOG_DEBUG), cmdline);
         free(cmdline);
     }
+    */
 }
 
 
