--- squid-3.1.4.orig/include/squid_types.h	2010-05-30 15:21:12.000000000 +0200
+++ squid-3.1.4/include/squid_types.h	2010-07-31 14:28:05.000000000 +0200
@@ -56,13 +56,16 @@
 #ifndef SQUID_TYPES_H
 #define SQUID_TYPES_H
 
+#include <sys/param.h>
 /* This should be in synch with what we have in acinclude.m4 */
 #if HAVE_SYS_TYPES_H
 #include <sys/types.h>
 #endif
+#if !defined(BSD)
 #if HAVE_LINUX_TYPES_H
 #include <linux/types.h>
 #endif
+#endif
 #if STDC_HEADERS
 #include <stdlib.h>
 #include <stddef.h>
@@ -70,9 +73,11 @@
 #if HAVE_INTTYPES_H
 #include <inttypes.h>
 #endif
+#if !defined(BSD)
 #if HAVE_SYS_BITYPES_H
 #include <sys/bitypes.h>
 #endif
+#endif
 #if HAVE_SYS_SELECT_H
 #include <sys/select.h>
 #endif
