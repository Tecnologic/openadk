--- tcsh-6.18.01.orig/sh.h	2011-04-14 20:25:25.000000000 +0200
+++ tcsh-6.18.01/sh.h	2013-12-25 17:12:55.000000000 +0100
@@ -361,7 +361,7 @@ typedef long tcsh_number_t;
 # include <sys/filio.h>
 #endif /* (!FIOCLEX && SUNOS4) || (SYSVREL == 4 && !_SEQUENT_ && !SCO && !_SX ) */
 
-#if !defined(_MINIX) && !defined(supermax) && !defined(WINNT_NATIVE) && !defined(IRIS4D)
+#if !defined(_MINIX) && !defined(supermax) && !defined(WINNT_NATIVE) && !defined(IRIS4D) && !defined(__FreeBSD__)
 # include <sys/file.h>
 #endif	/* !_MINIX && !supermax && !WINNT_NATIVE && !defined(IRIS4D) */
 
@@ -395,9 +395,11 @@ typedef long tcsh_number_t;
 #include <pwd.h>
 #include <grp.h>
 #endif /* WINNT_NATIVE */
+#if !defined(BSD)
 #ifdef HAVE_SHADOW_H
 # include <shadow.h>
 #endif /* HAVE_SHADOW_H */
+#endif
 #ifdef HAVE_AUTH_H
 # include <auth.h>
 #endif /* HAVE_AUTH_H */
